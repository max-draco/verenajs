import s from './index.module.css';
export function createTour({steps=[],onComplete=()=>{}}){let current=0;const show=()=>{if(current>=steps.length){onComplete();return;}const step=steps[current];const target=document.querySelector(step.target);if(!target)return;const rect=target.getBoundingClientRect();const overlay=document.createElement('div');overlay.className=s.overlay;overlay.innerHTML=`<div class="${s.highlight}" style="top:${rect.top-4}px;left:${rect.left-4}px;width:${rect.width+8}px;height:${rect.height+8}px"></div><div class="${s.tooltip}" style="top:${rect.bottom+16}px;left:${rect.left}px"><div class="${s.content}">${step.content}</div><div class="${s.footer}"><span>${current+1}/${steps.length}</span><div><button class="${s.skip}">Skip</button><button class="${s.next}">${current===steps.length-1?'Finish':'Next'}</button></div></div></div>`;document.body.appendChild(overlay);overlay.querySelector('.'+s.skip).onclick=()=>{overlay.remove();onComplete();};overlay.querySelector('.'+s.next).onclick=()=>{overlay.remove();current++;show();};};return{start:()=>{current=0;show();},stop:()=>{document.querySelector('.'+s.overlay)?.remove();}};}