import s from './index.module.css';
export function createFilterPanel({filters=[],onApply=()=>{},onReset=()=>{}}){const c=document.createElement('div');c.className=s.panel;let values={};filters.forEach(f=>values[f.id]=f.value||'');const render=()=>{c.innerHTML=`<div class="${s.header}"><span>Filters</span><button class="${s.reset}">Reset</button></div><div class="${s.filters}">${filters.map(f=>`<div class="${s.filter}"><label>${f.label}</label>${f.type==='select'?`<select data-id="${f.id}">${f.options.map(o=>`<option value="${o.value}" ${o.value===values[f.id]?'selected':''}>${o.label}</option>`).join('')}</select>`:`<input type="${f.type||'text'}" data-id="${f.id}" value="${values[f.id]||''}" placeholder="${f.placeholder||''}">`}</div>`).join('')}</div><button class="${s.apply}">Apply Filters</button>`;c.querySelectorAll('select,input').forEach(el=>el.onchange=e=>values[e.target.dataset.id]=e.target.value);c.querySelector('.'+s.reset).onclick=()=>{values={};filters.forEach(f=>values[f.id]=f.value||'');render();onReset();};c.querySelector('.'+s.apply).onclick=()=>onApply(values);};render();return{el:c,getValues:()=>values};}