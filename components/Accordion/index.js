import s from './index.module.css';
export function createAccordion({items=[],allowMultiple=false}){const c=document.createElement('div');c.className=s.accordion;let openIdx=[];items.forEach((item,i)=>{const panel=document.createElement('div');panel.className=s.panel;const header=document.createElement('div');header.className=s.header;header.innerHTML=`<span>${item.title}</span><span class="${s.arrow}">▼</span>`;const content=document.createElement('div');content.className=s.content;content.innerHTML=item.content;content.style.display='none';header.onclick=()=>{const isOpen=openIdx.includes(i);if(allowMultiple){openIdx=isOpen?openIdx.filter(x=>x!==i):[...openIdx,i];}else{openIdx=isOpen?[]:[i];}c.querySelectorAll('.'+s.content).forEach((el,idx)=>{el.style.display=openIdx.includes(idx)?'block':'none';el.previousElementSibling.querySelector('.'+s.arrow).textContent=openIdx.includes(idx)?'▲':'▼';});};panel.append(header,content);c.appendChild(panel);});return c;}