import s from './index.module.css';
export function createTradeHistory({trades=[],maxItems=50}){const c=document.createElement('div');c.className=s.history;const header=document.createElement('div');header.className=s.header;header.innerHTML=`<span>Price</span><span>Size</span><span>Time</span>`;c.appendChild(header);const list=document.createElement('div');list.className=s.list;trades.slice(0,maxItems).forEach(t=>{const row=document.createElement('div');row.className=s.row;const time=new Date(t.time).toLocaleTimeString();row.innerHTML=`<span class="${t.side==='buy'?s.buy:s.sell}">${t.price.toFixed(2)}</span><span>${t.size.toFixed(4)}</span><span class="${s.time}">${time}</span>`;list.appendChild(row);});c.appendChild(list);return{el:c,addTrade:(t)=>{const row=document.createElement('div');row.className=`${s.row} ${s.new}`;const time=new Date(t.time).toLocaleTimeString();row.innerHTML=`<span class="${t.side==='buy'?s.buy:s.sell}">${t.price.toFixed(2)}</span><span>${t.size.toFixed(4)}</span><span class="${s.time}">${time}</span>`;list.insertBefore(row,list.firstChild);if(list.children.length>maxItems)list.lastChild.remove();}};}