import s from './index.module.css';
export function createVirtualList({items=[],itemHeight=50,containerHeight=400,renderItem=(i)=>i}){const c=document.createElement('div');c.className=s.container;c.style.height=containerHeight+'px';const inner=document.createElement('div');inner.className=s.inner;inner.style.height=items.length*itemHeight+'px';c.appendChild(inner);const visibleCount=Math.ceil(containerHeight/itemHeight)+2;let start=0;const render=()=>{inner.innerHTML='';for(let i=start;i<Math.min(start+visibleCount,items.length);i++){const el=document.createElement('div');el.className=s.item;el.style.height=itemHeight+'px';el.style.top=i*itemHeight+'px';el.innerHTML=renderItem(items[i],i);inner.appendChild(el);}};c.onscroll=()=>{const newStart=Math.floor(c.scrollTop/itemHeight);if(newStart!==start){start=newStart;render();}};render();return{el:c,refresh:render};}