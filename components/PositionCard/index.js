import s from './index.module.css';
export function createPositionCard({market='',side='yes',shares=0,avgPrice=0,currentPrice=0,onSell=()=>{}}){const value=shares*currentPrice/100;const cost=shares*avgPrice/100;const pnl=value-cost;const pnlPct=cost>0?((pnl/cost)*100):0;const c=document.createElement('div');c.className=s.card;c.innerHTML=`<div class="${s.header}"><span class="${s.market}">${market}</span><span class="${s.side} ${side==='yes'?s.yes:s.no}">${side.toUpperCase()}</span></div><div class="${s.stats}"><div class="${s.stat}"><span class="${s.label}">Shares</span><span class="${s.value}">${shares.toFixed(2)}</span></div><div class="${s.stat}"><span class="${s.label}">Avg Price</span><span class="${s.value}">${avgPrice.toFixed(0)}¢</span></div><div class="${s.stat}"><span class="${s.label}">Current</span><span class="${s.value}">${currentPrice.toFixed(0)}¢</span></div><div class="${s.stat}"><span class="${s.label}">P&L</span><span class="${s.value} ${pnl>=0?s.profit:s.loss}">${pnl>=0?'+':''}$${pnl.toFixed(2)} (${pnlPct>=0?'+':''}${pnlPct.toFixed(1)}%)</span></div></div><button class="${s.sellBtn}">Sell Position</button>`;c.querySelector('.'+s.sellBtn).onclick=()=>onSell({market,side,shares});return c;}