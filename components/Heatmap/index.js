import s from './index.module.css';
export function createHeatmap({data=[],rows=[],cols=[],colorScale=['#1e3a5f','#3b82f6','#93c5fd']}){const c=document.createElement('div');c.className=s.heatmap;const max=Math.max(...data.flat());const min=Math.min(...data.flat());const getColor=(v)=>{const pct=(v-min)/(max-min||1);const idx=Math.floor(pct*(colorScale.length-1));return colorScale[Math.min(idx,colorScale.length-1)];};let html=`<div class="${s.grid}" style="grid-template-columns:auto repeat(${cols.length},1fr)">`;html+=`<div></div>`;cols.forEach(col=>html+=`<div class="${s.colLabel}">${col}</div>`);data.forEach((row,ri)=>{html+=`<div class="${s.rowLabel}">${rows[ri]||''}</div>`;row.forEach(val=>html+=`<div class="${s.cell}" style="background:${getColor(val)}" title="${val}"></div>`);});html+=`</div>`;c.innerHTML=html;return c;}