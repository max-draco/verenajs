import s from './index.module.css';
export function createLanguageSelector({languages=[],current='en',onChange=()=>{}}){const c=document.createElement('div');c.className=s.selector;const defaultLangs=[{code:'en',name:'English',flag:'ðŸ‡ºðŸ‡¸'},{code:'es',name:'EspaÃ±ol',flag:'ðŸ‡ªðŸ‡¸'},{code:'fr',name:'FranÃ§ais',flag:'ðŸ‡«ðŸ‡·'},{code:'de',name:'Deutsch',flag:'ðŸ‡©ðŸ‡ª'}];const langs=languages.length?languages:defaultLangs;const render=()=>{const curr=langs.find(l=>l.code===current)||langs[0];c.innerHTML=`<button class="${s.trigger}"><span>${curr.flag}</span><span>${curr.code.toUpperCase()}</span></button><div class="${s.dropdown}">${langs.map(l=>`<button class="${s.option} ${l.code===current?s.active:''}" data-code="${l.code}"><span>${l.flag}</span><span>${l.name}</span></button>`).join('')}</div>`;c.querySelector('.'+s.trigger).onclick=()=>c.classList.toggle(s.open);c.querySelectorAll('.'+s.option).forEach(opt=>opt.onclick=()=>{current=opt.dataset.code;c.classList.remove(s.open);onChange(current);render();});};render();document.addEventListener('click',e=>{if(!c.contains(e.target))c.classList.remove(s.open);});return c;}