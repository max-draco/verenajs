import s from './index.module.css';
export function createCarousel({slides=[],autoplay=false,interval=5000}){const c=document.createElement('div');c.className=s.carousel;let current=0,timer=null;const render=()=>{c.innerHTML=`<div class="${s.track}" style="transform:translateX(-${current*100}%)">${slides.map(sl=>`<div class="${s.slide}">${sl}</div>`).join('')}</div><button class="${s.prev}">‹</button><button class="${s.next}">›</button><div class="${s.dots}">${slides.map((_,i)=>`<button class="${s.dot} ${i===current?s.active:''}"></button>`).join('')}</div>`;c.querySelector('.'+s.prev).onclick=()=>go(current-1);c.querySelector('.'+s.next).onclick=()=>go(current+1);c.querySelectorAll('.'+s.dot).forEach((d,i)=>d.onclick=()=>go(i));};const go=(idx)=>{current=(idx+slides.length)%slides.length;render();if(autoplay)startAutoplay();};const startAutoplay=()=>{clearInterval(timer);timer=setInterval(()=>go(current+1),interval);};render();if(autoplay)startAutoplay();return{el:c,goTo:go,destroy:()=>clearInterval(timer)};}