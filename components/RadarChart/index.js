import s from './index.module.css';
export function createRadarChart({labels=[],data=[],max=100,color='#3b82f6'}){const c=document.createElement('div');c.className=s.radar;const size=200,cx=size/2,cy=size/2,r=70;const n=labels.length;if(n<3)return c;const getPoint=(i,v)=>{const angle=(i/n)*Math.PI*2-Math.PI/2;const dist=(v/max)*r;return{x:cx+dist*Math.cos(angle),y:cy+dist*Math.sin(angle)};};let grid='';for(let ring=1;ring<=4;ring++){const pts=[];for(let i=0;i<n;i++){const p=getPoint(i,(ring/4)*max);pts.push(`${p.x},${p.y}`);}grid+=`<polygon points="${pts.join(' ')}" fill="none" stroke="#2a2a4e"/>`;}for(let i=0;i<n;i++){const p=getPoint(i,max);grid+=`<line x1="${cx}" y1="${cy}" x2="${p.x}" y2="${p.y}" stroke="#2a2a4e"/>`;}const dataPts=data.map((v,i)=>getPoint(i,v));const dataPath=dataPts.map(p=>`${p.x},${p.y}`).join(' ');let labelEls='';labels.forEach((l,i)=>{const p=getPoint(i,max*1.2);labelEls+=`<text x="${p.x}" y="${p.y}" text-anchor="middle" fill="#a0a0a0" font-size="11">${l}</text>`;});c.innerHTML=`<svg viewBox="0 0 ${size} ${size}" class="${s.svg}">${grid}<polygon points="${dataPath}" fill="${color}" fill-opacity="0.3" stroke="${color}" stroke-width="2"/>${dataPts.map(p=>`<circle cx="${p.x}" cy="${p.y}" r="4" fill="${color}"/>`).join('')}${labelEls}</svg>`;return c;}