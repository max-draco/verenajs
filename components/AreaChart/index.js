import s from './index.module.css';
export function createAreaChart({series=[],width=400,height=200,stacked=false}){const c=document.createElement('div');c.className=s.chart;if(!series.length)return c;const colors=['#3b82f6','#22c55e','#f59e0b','#ef4444'];const allVals=series.flatMap(s=>s.data);const max=Math.max(...allVals);const min=Math.min(...allVals);const range=max-min||1;const padY=20;const getY=(v)=>height-padY-((v-min)/range)*(height-2*padY);const getX=(i,len)=>(i/(len-1))*(width-40)+20;let paths='';series.forEach((s,si)=>{const col=s.color||colors[si%colors.length];const pts=s.data.map((v,i)=>({x:getX(i,s.data.length),y:getY(v)}));const lineD=pts.map((p,i)=>`${i===0?'M':'L'}${p.x},${p.y}`).join(' ');const areaD=lineD+` L${pts[pts.length-1].x},${height-padY} L${pts[0].x},${height-padY} Z`;paths+=`<path d="${areaD}" fill="${col}" fill-opacity="0.2"/><path d="${lineD}" fill="none" stroke="${col}" stroke-width="2"/>`;});c.innerHTML=`<svg viewBox="0 0 ${width} ${height}" class="${s.svg}">${paths}</svg>`;return c;}