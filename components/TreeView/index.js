import s from './index.module.css';
export function createTreeView({data=[],onSelect=()=>{}}){const c=document.createElement('div');c.className=s.tree;const renderNode=(node,depth=0)=>{const item=document.createElement('div');item.className=s.item;item.style.paddingLeft=depth*20+'px';const hasChildren=node.children&&node.children.length;item.innerHTML=`<span class="${s.toggle}">${hasChildren?'â–¶':''}</span><span class="${s.icon}">${node.icon||'ðŸ“„'}</span><span class="${s.label}">${node.label}</span>`;const childContainer=document.createElement('div');childContainer.className=s.children;childContainer.style.display='none';if(hasChildren){node.children.forEach(child=>childContainer.appendChild(renderNode(child,depth+1)));item.querySelector('.'+s.toggle).onclick=e=>{e.stopPropagation();const open=childContainer.style.display!=='none';childContainer.style.display=open?'none':'block';e.target.textContent=open?'â–¶':'â–¼';};}item.onclick=()=>onSelect(node);const wrapper=document.createElement('div');wrapper.appendChild(item);wrapper.appendChild(childContainer);return wrapper;};data.forEach(node=>c.appendChild(renderNode(node)));return c;}