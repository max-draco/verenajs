import s from './index.module.css';
export function createPasswordInput({placeholder='Password',showStrength=false,onChange=()=>{}}){const c=document.createElement('div');c.className=s.container;const wrapper=document.createElement('div');wrapper.className=s.wrapper;const input=document.createElement('input');input.type='password';input.className=s.input;input.placeholder=placeholder;const toggle=document.createElement('button');toggle.type='button';toggle.className=s.toggle;toggle.textContent='ðŸ‘';toggle.onclick=()=>{input.type=input.type==='password'?'text':'password';};wrapper.append(input,toggle);c.appendChild(wrapper);if(showStrength){const strength=document.createElement('div');strength.className=s.strength;const bar=document.createElement('div');bar.className=s.bar;strength.appendChild(bar);c.appendChild(strength);input.oninput=()=>{const v=input.value;let score=0;if(v.length>=8)score++;if(/[A-Z]/.test(v))score++;if(/[0-9]/.test(v))score++;if(/[^A-Za-z0-9]/.test(v))score++;bar.style.width=score*25+'%';bar.className=`${s.bar} ${[s.weak,s.fair,s.good,s.strong][score-1]||''}`;onChange(v);};}else{input.oninput=()=>onChange(input.value);}return{el:c,getValue:()=>input.value};}