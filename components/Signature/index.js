import s from './index.module.css';
export function createSignature({width=400,height=200,onSave=()=>{}}){const c=document.createElement('div');c.className=s.signature;const canvas=document.createElement('canvas');canvas.width=width;canvas.height=height;canvas.className=s.canvas;const ctx=canvas.getContext('2d');let drawing=false;ctx.strokeStyle='#000';ctx.lineWidth=2;ctx.lineCap='round';canvas.onmousedown=()=>drawing=true;canvas.onmouseup=()=>drawing=false;canvas.onmousemove=e=>{if(!drawing)return;const rect=canvas.getBoundingClientRect();ctx.lineTo(e.clientX-rect.left,e.clientY-rect.top);ctx.stroke();};const actions=document.createElement('div');actions.className=s.actions;actions.innerHTML=`<button class="${s.clear}">Clear</button><button class="${s.save}">Save</button>`;actions.querySelector('.'+s.clear).onclick=()=>{ctx.clearRect(0,0,width,height);ctx.beginPath();};actions.querySelector('.'+s.save).onclick=()=>onSave(canvas.toDataURL());c.append(canvas,actions);return c;}