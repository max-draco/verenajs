import s from './index.module.css';
export function createAudioPlayer({src='',title='',artist='',cover=''}){const c=document.createElement('div');c.className=s.player;c.innerHTML=`${cover?`<img class="${s.cover}" src="${cover}" alt="">`:''}<div class="${s.info}"><div class="${s.title}">${title}</div><div class="${s.artist}">${artist}</div><div class="${s.controls}"><button class="${s.prev}">⏮</button><button class="${s.play}">▶</button><button class="${s.next}">⏭</button></div><div class="${s.progress}"><div class="${s.bar}"></div></div></div><audio src="${src}"></audio>`;const audio=c.querySelector('audio');const playBtn=c.querySelector('.'+s.play);const bar=c.querySelector('.'+s.bar);playBtn.onclick=()=>{if(audio.paused){audio.play();playBtn.textContent='⏸';}else{audio.pause();playBtn.textContent='▶';}};audio.ontimeupdate=()=>{bar.style.width=(audio.currentTime/audio.duration)*100+'%';};return c;}