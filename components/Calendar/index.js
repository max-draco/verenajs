import s from './index.module.css';
export function createCalendar({selected=null,onSelect=()=>{}}){const c=document.createElement('div');c.className=s.calendar;let current=new Date();const render=()=>{const year=current.getFullYear(),month=current.getMonth();const first=new Date(year,month,1).getDay();const days=new Date(year,month+1,0).getDate();const months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];let daysHtml='';for(let i=0;i<first;i++)daysHtml+=`<div class="${s.day} ${s.empty}"></div>`;for(let d=1;d<=days;d++){const date=new Date(year,month,d);const isSelected=selected&&date.toDateString()===new Date(selected).toDateString();const isToday=date.toDateString()===new Date().toDateString();daysHtml+=`<div class="${s.day} ${isSelected?s.selected:''} ${isToday?s.today:''}" data-date="${date.toISOString()}">${d}</div>`;}c.innerHTML=`<div class="${s.header}"><button class="${s.nav}">‹</button><span>${months[month]} ${year}</span><button class="${s.nav}">›</button></div><div class="${s.weekdays}"><span>Su</span><span>Mo</span><span>Tu</span><span>We</span><span>Th</span><span>Fr</span><span>Sa</span></div><div class="${s.days}">${daysHtml}</div>`;c.querySelectorAll('.'+s.nav)[0].onclick=()=>{current.setMonth(current.getMonth()-1);render();};c.querySelectorAll('.'+s.nav)[1].onclick=()=>{current.setMonth(current.getMonth()+1);render();};c.querySelectorAll('.'+s.day+':not(.'+s.empty+')').forEach(d=>d.onclick=()=>{selected=d.dataset.date;onSelect(new Date(selected));render();});};render();return c;}