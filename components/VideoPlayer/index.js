import s from './index.module.css';
export function createVideoPlayer({src='',poster='',autoplay=false}){const c=document.createElement('div');c.className=s.player;c.innerHTML=`<video class="${s.video}" ${poster?`poster="${poster}"`:''} ${autoplay?'autoplay':''}><source src="${src}"></video><div class="${s.controls}"><button class="${s.playBtn}">▶</button><div class="${s.progress}"><div class="${s.bar}"></div></div><span class="${s.time}">0:00</span><button class="${s.fullscreen}">⛶</button></div>`;const video=c.querySelector('video');const playBtn=c.querySelector('.'+s.playBtn);const progress=c.querySelector('.'+s.bar);const time=c.querySelector('.'+s.time);playBtn.onclick=()=>{if(video.paused){video.play();playBtn.textContent='⏸';}else{video.pause();playBtn.textContent='▶';}};video.ontimeupdate=()=>{const pct=(video.currentTime/video.duration)*100;progress.style.width=pct+'%';const m=Math.floor(video.currentTime/60);const sec=Math.floor(video.currentTime%60);time.textContent=`${m}:${sec.toString().padStart(2,'0')}`;};c.querySelector('.'+s.fullscreen).onclick=()=>c.requestFullscreen?.();return c;}